package terminate.garden;

import java.util.Random;

public class Counter {

	private int count = 0;

	private Random rand = new Random( 67 );

	public synchronized int increment() {

		int temp = count;

		// 如果线程之间可能发生冲突,加大这种可能性
		// 本质就是抛硬币,谁抛到正面就让出CPU
		if ( rand.nextBoolean() )
			Thread.yield();

		count = ++temp;
		return count;
	}
}
